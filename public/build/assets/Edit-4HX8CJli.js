import{u as g,r as p,j as e,H as f,L as h}from"./app-T698BSBC.js";import{A as b}from"./AuthenticatedLayout-PZ8wQsim.js";import{F as j}from"./file-text-CRu54kKn.js";import{A as y}from"./arrow-left-B3kIYOxX.js";import{C as k}from"./cloud-upload-B0RxedM-.js";import"./x-DbQfRAHg.js";import"./image-D-R1Ha5E.js";import"./book-open-BNGbvO7N.js";import"./network-Cz1gh_Ry.js";import"./award-CVEerXgA.js";import"./git-branch-DcAfvh5h.js";import"./chevron-right-BHu80ece.js";function z({bagan:s}){const{data:n,setData:r,post:o,processing:d,errors:a}=g({title:s.title||"",description:s.description||"",image:null,_method:"PUT"}),[m,c]=p.useState(s.image?`/storage/${s.image}`:null),x=t=>{const i=t.target.files[0];if(i){r("image",i);const l=new FileReader;l.onloadend=()=>{c(l.result)},l.readAsDataURL(i)}},u=t=>{t.preventDefault(),o(route("admin.baganStruktur.update",s.id))};return e.jsxs(b,{children:[e.jsx(f,{title:"Edit Bagan Struktur"}),e.jsxs("div",{className:"p-8 max-w-full mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(j,{className:"text-gray-800",size:28}),"Edit Bagan Struktur"]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Perbarui informasi bagan struktur untuk ditampilkan di website."})]}),e.jsxs(h,{href:route("admin.baganStruktur.index"),className:"inline-flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-5 py-2.5 rounded-lg shadow transition",children:[e.jsx(y,{size:18})," Kembali"]})]}),e.jsxs("form",{onSubmit:u,className:"bg-white rounded-2xl shadow-md border p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Judul ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:n.title,onChange:t=>r("title",t.target.value),className:"w-full rounded-lg border-gray-300 focus:ring-gray-500 focus:border-gray-500",placeholder:"Masukkan judul bagan"}),a.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi"}),e.jsx("textarea",{value:n.description,onChange:t=>r("description",t.target.value),rows:"5",className:"w-full rounded-lg border-gray-300 focus:ring-gray-500 focus:border-gray-500",placeholder:"Tulis deskripsi singkat..."}),a.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Bagan"}),e.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-gray-600 file:text-white hover:file:bg-gray-700"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Biarkan kosong jika tidak ingin mengubah gambar"}),a.image&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.image}),m&&e.jsx("img",{src:m,alt:"Preview Bagan",className:"mt-3 w-full max-h-80 object-contain rounded-lg border"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:d,className:"inline-flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white px-6 py-2.5 rounded-lg shadow transition disabled:opacity-70",children:[e.jsx(k,{size:18}),d?"Menyimpan...":"Simpan Perubahan"]})})]})]})]})}export{z as default};
