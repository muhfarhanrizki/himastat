import{r as i,u as v,j as e,H as K,L as B}from"./app-C-h5Xtkw.js";import{A as E}from"./AuthenticatedLayout-BmoXCeN8.js";import{U as h}from"./users-H0we5c_h.js";import{A as U}from"./arrow-left-CnTX2vvl.js";import{U as q}from"./user-check-gNCVqXn2.js";import{B as b}from"./briefcase-D32bFhos.js";import{P as w}from"./plus-CJN-LJCm.js";import{P as k}from"./pencil-Dk6TBUFf.js";import{T as C}from"./trash-2-Ds0amrBU.js";import{C as D}from"./calendar-Dzbvf_1u.js";import{P as $}from"./x-BGVYZ4cC.js";import"./image-B11InqTW.js";import"./book-open-2M4wtuUj.js";import"./network-CsXIBpxO.js";import"./award-DP__E7AD.js";import"./git-branch-B66T1_r0.js";import"./chevron-right-j06OLYZx.js";function re({auth:P,divisi:s}){const[A,p]=i.useState(!1),[z,j]=i.useState(!1),[d,c]=i.useState(null),[m,x]=i.useState(null),r=v({nama:"",deskripsi:"",divisi_id:s.id,tanggal:"",image:null,_method:"POST"}),t=v({name:"",divisi_id:s.id,kontak:"",angkatan:"",jabatan:"",_method:"POST"}),[f,o]=i.useState(null),y=(a=null)=>{a?(c(a),r.setData({nama:a.nama,deskripsi:a.deskripsi,divisi_id:s.id,tanggal:a.tanggal,image:null,_method:"PUT"}),o(a.image?`/storage/${a.image}`:null)):(c(null),r.reset(),r.setData("divisi_id",s.id),o(null)),p(!0)},l=()=>{p(!1),c(null),r.reset(),o(null)},S=a=>{a.preventDefault(),d?r.post(route("admin.proker.update",d.slug),{onSuccess:()=>l()}):r.post(route("admin.proker.store"),{onSuccess:()=>l()})},M=a=>{confirm("Apakah Anda yakin ingin menghapus proker ini?")&&r.delete(route("admin.proker.destroy",a))},_=a=>{const g=a.target.files[0];if(g){r.setData("image",g);const u=new FileReader;u.onloadend=()=>{o(u.result)},u.readAsDataURL(g)}},N=(a=null)=>{a?(x(a),t.setData({name:a.name,divisi_id:s.id,kontak:a.kontak,angkatan:a.angkatan,jabatan:a.jabatan||"",_method:"PUT"})):(x(null),t.reset(),t.setData("divisi_id",s.id)),j(!0)},n=()=>{j(!1),x(null),t.reset()},L=a=>{a.preventDefault(),m?t.post(route("admin.anggotaDiv.update",m.slug),{onSuccess:()=>n()}):t.post(route("admin.anggotaDiv.store"),{onSuccess:()=>n()})},T=a=>{confirm("Apakah Anda yakin ingin menghapus anggota ini?")&&t.delete(route("admin.anggotaDiv.destroy",a))};return e.jsxs(E,{user:P.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Detail Divisi"}),children:[e.jsx(K,{title:`Detail - ${s.name}`}),e.jsxs("div",{className:"p-8 px-8 max-w-full mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-10",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(h,{className:"text-gray-800",size:26}),"Divisi ",`${s.name}`]}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Kelola divisi dan struktur dari ",`${s.name}`]})]}),e.jsxs(B,{href:route("admin.divisi.index"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-800 transition",children:[e.jsx(U,{size:20}),e.jsx("span",{className:"font-medium",children:"Kembali"})]})]}),e.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-xl mb-8 h-96",children:[s.image?e.jsx("img",{src:`/storage/${s.image}`,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:e.jsx(h,{size:100,className:"text-white opacity-50"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:s.name}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(q,{size:20}),e.jsxs("span",{className:"text-lg",children:[s.anggota?.length||0," Anggota"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(b,{size:20}),e.jsxs("span",{className:"text-lg",children:[s.proker?.length||0," Program Kerja"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Deskripsi"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:s.deskripsi})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Program Kerja (",s.proker?.length||0,")"]}),e.jsxs("button",{onClick:()=>y(),className:"inline-flex items-center gap-2 bg-gray-700 hover:bg-gray-800 text-white px-5 py-2.5 rounded-lg shadow transition",children:[e.jsx(w,{size:18})," Tambah Proker"]})]}),s.proker&&s.proker.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:s.proker.map(a=>e.jsxs("div",{className:"relative group overflow-hidden rounded-2xl shadow-md border border-gray-100 bg-white",children:[e.jsxs("div",{className:"absolute top-3 right-3 z-10 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[e.jsx("button",{onClick:()=>y(a),className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-md transition shadow-lg",title:"Edit",children:e.jsx(k,{size:14})}),e.jsx("button",{onClick:()=>M(a.slug),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-md transition shadow-lg",title:"Hapus",children:e.jsx(C,{size:14})})]}),e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[a.image?e.jsx("img",{src:`/storage/${a.image}`,alt:a.nama,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:e.jsx(b,{size:40,className:"text-gray-400"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-1 line-clamp-1",children:a.nama}),e.jsx("p",{className:"text-gray-200 text-sm line-clamp-2 mb-2",children:a.deskripsi}),e.jsxs("div",{className:"flex items-center gap-1 text-white text-xs",children:[e.jsx(D,{size:14}),e.jsx("span",{children:a.tanggal})]})]})]})]},a.id))}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-100",children:[e.jsx(b,{size:50,className:"mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Belum ada program kerja"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Anggota Divisi (",s.anggota?.length||0,")"]}),e.jsxs("button",{onClick:()=>N(),className:"inline-flex items-center gap-2 bg-gray-700 hover:bg-gray-800 text-white px-5 py-2.5 rounded-lg shadow transition",children:[e.jsx(w,{size:18})," Tambah Anggota"]})]}),s.anggota&&s.anggota.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.anggota.map(a=>e.jsxs("div",{className:"relative group bg-white border border-gray-100 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>N(a),className:"bg-blue-500 hover:bg-blue-600 text-white p-1.5 rounded-md shadow-sm transition",title:"Edit",children:e.jsx(k,{size:14})}),e.jsx("button",{onClick:()=>T(a.slug),className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-md shadow-sm transition",title:"Hapus",children:e.jsx(C,{size:14})})]}),e.jsxs("div",{className:"flex items-center gap-4 p-5",children:[a.image&&e.jsx("img",{src:a.image,alt:a.name,className:"w-20 h-20 object-cover rounded-lg border border-gray-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:a.jabatan||"Anggota"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{size:14,className:"text-gray-500"}),e.jsx("span",{children:a.kontak||"-"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{size:14,className:"text-gray-500"}),e.jsxs("span",{children:["Angkatan"," ",a.angkatan||"-"]})]})]})]})]})]},a.id))}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-100",children:[e.jsx(h,{size:50,className:"mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Belum ada anggota"})]})]})]}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:l,children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center rounded-t-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:d?"Edit Program Kerja":"Tambah Program Kerja"}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:S,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Program Kerja"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.data.nama,onChange:a=>r.setData("nama",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:r.data.tanggal,onChange:a=>r.setData("tanggal",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: 15 Januari 2025",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Deskripsi"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:r.data.deskripsi,onChange:a=>r.setData("deskripsi",a.target.value),rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar"}),f&&e.jsx("div",{className:"mb-3",children:e.jsx("img",{src:f,alt:"Preview",className:"h-32 w-auto rounded-lg border border-gray-200"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:l,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Batal"}),e.jsx("button",{type:"submit",disabled:r.processing,className:"px-5 py-2.5 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition disabled:opacity-50",children:r.processing?"Menyimpan...":"Simpan"})]})]})]})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center rounded-t-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:m?"Edit Anggota":"Tambah Anggota"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:L,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.data.name,onChange:a=>t.setData("name",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jabatan"}),e.jsx("input",{type:"text",value:t.data.jabatan,onChange:a=>t.setData("jabatan",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: Ketua Divisi"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kontak"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.data.kontak,onChange:a=>t.setData("kontak",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: 081234567890",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Angkatan"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.data.angkatan,onChange:a=>t.setData("angkatan",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contoh: 2023",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:n,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Batal"}),e.jsx("button",{type:"submit",disabled:t.processing,className:"px-5 py-2.5 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition disabled:opacity-50",children:t.processing?"Menyimpan...":"Simpan"})]})]})]})})]})}export{re as default};
